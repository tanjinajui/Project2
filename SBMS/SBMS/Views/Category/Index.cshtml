@model SBMS.Model.Model.Category
@using GridMvc.Html
@{
    ViewBag.Title = "Plan Master Details";
    Layout = "~/Views/Shared/_MainLayout.cshtml";

    //int rowNumber = 0;
    //int pageSize = 5;
    //int pageNumber = Convert.ToInt32(ViewBag.PageNumber);
    //if ((pageNumber) > 1)
    //{
    //    rowNumber = (pageSize * (pageNumber-1)) + rowNumber;
    //}
}


<link href="@Url.Content("~/Content/Gridmvc.css")" rel="stylesheet" />
<link href="~/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="@Url.Content("~/Scripts/jquery-1.9.1.min.js")"></script>
<script src="@Url.Content("~/Scripts/gridmvc.min.js")"></script>
<link href="~/Content/Site.css" rel="stylesheet" />



<div class="container">



    <div class="clearfix"></div>



    <div style="margin-top: 30px"></div>
    <fieldset>
        <legend class="legend">Category Details</legend>


        <div class="panel">

            <div class="panel-body">


                <div>
                    @Html.ActionLink("Create Category", "Add", "Category", new { @class = "btn btn-info btn-pressure" })
                </div>
                <div style="margin-top: 5px"></div>
                
                @*@Html.Grid(Model).Columns(columns =>
                {
                        columns.Add().Titled("SL").SetWidth(10).RenderValueAs(o =>{rowNumber++;return @<text> @rowNumber </text>;});
                        columns.Add(c => c.CatID).Titled("CategoryID").Sanitized(false).SetWidth(50);
                        columns.Add(c => c.CategoryName).Titled("CategoryName").Filterable(true).Encoded(false).Sanitized(false).SetWidth(50);
                        columns.Add().Encoded(false).Sanitized(false).SetWidth(20).RenderValueAs(o => Html.ActionLink("Edit", "Edit", new { id = o.CatID })).Titled("Edit");
                        columns.Add().Encoded(false).Sanitized(false).SetWidth(30).RenderValueAs(o => Html.ActionLink("Delete", "Delete", new { id = o.CatID },
                        new { onclick = "return confirm('Are you sure you wish to delete this Plan ?');" })).Titled("Delete");

                    }).WithPaging(10).Sortable(true)*@
                <table class="table">
                    <tr>
                        <th>Sl</th>
                        <th>
                            @Html.DisplayNameFor(model => model.CatID)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.CategoryName)
                        </th>

                        <th></th>
                    </tr>
                 @{int Sl = 1;}
                @foreach (var item in Model.Categories) {
                    <tr>
                        <td>@(Sl++)</td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CatID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CategoryName)
                        </td>

                        <td>
                           
                            <a class='btn btn-default btn-sm' href="@Url.Action("Edit", "Category", new { id = item.CatID })"><span class='glyphicon glyphicon-pencil'></span><span></span> Edit</a> |
                            <a class='btn btn-danger btn-sm' href="@Url.Action("Delete", "Category",new { id = item.CatID })"><span class='glyphicon glyphicon-trash'></span><span></span> Delete</a> 
                           
                        </td>
                    </tr>
                }
                </table>
            </div>
        </div>

    </fieldset>
</div>

